name: setup-release-branches.yml
on:
  workflow_dispatch:
    inputs:
      date:
        description: "リリース日とサフィックスを入力"
        required: true
        default: "20240530a"

jobs:
  release-date_and_suffix:
    runs-on: ubuntu-latest
    env:
      RELEASE_BRANCH_NAME: release/${{ github.event.inputs.date }}
    steps:
      - name: release_date_and_suffix
        run: echo "入力値は$RELEASE_BRANCH_NAME"

      - name: release_date
        run: echo "Hello World!"

      - name: suffix
        run: echo "Helloworld!2"

  release-branch:
    runs-on: ubuntu-latest
    env:
      RELEASE_BRANCH_NAME: release/${{ github.event.inputs.date }}
    steps:
      - uses: actions/checkout@v4

      - name: create_release-branch
        run: git branch $RELEASE_BRANCH_NAME origin/master

      - name: checkout_release-branch
        run: git checkout $RELEASE_BRANCH_NAME

      - name: add_release-branch
        run: git add $RELEASE_BRANCH_NAME
          git commit $RELEASE_BRANCH_NAME -m "$RELEASE_BRANCH_NAME追加"
          git push origin $RELEASE_BRANCH_NAME
